[
  {"category": "A-Security", "description": "Unauthenticated user accessing /profile should be redirected to login or landing page", "steps": ["Step 1: Navigate to http://localhost:3000/profile directly", "Step 2: Verify user is redirected to landing page or login prompt", "Step 3: Verify profile content is NOT visible"], "passes": true},
  {"category": "A-Security", "description": "Session token is required for protected API endpoints", "steps": ["Step 1: Make unauthenticated request to GET /api/auth/session", "Step 2: Verify response indicates no active session", "Step 3: Verify no user data is exposed"], "passes": true},
  {"category": "A-Security", "description": "Logout clears session and redirects to landing page", "steps": ["Step 1: Navigate to profile page while authenticated", "Step 2: Click logout button", "Step 3: Verify redirect to landing page", "Step 4: Verify session is cleared (cannot access profile again)"], "passes": false},
  {"category": "A-Security", "description": "Invalid session tokens are rejected by protected routes", "steps": ["Step 1: Set an invalid/expired session cookie", "Step 2: Navigate to /profile", "Step 3: Verify user is redirected to login/landing"], "passes": true},
  {"category": "A-Security", "description": "Anonymous users can view landing page without authentication", "steps": ["Step 1: Navigate to http://localhost:3000 without any session", "Step 2: Verify landing page loads successfully", "Step 3: Verify status table is visible"], "passes": true},

  {"category": "B-Navigation", "description": "Landing page loads at root URL", "steps": ["Step 1: Navigate to http://localhost:3000", "Step 2: Take screenshot (type='jpeg', quality=75)", "Step 3: Verify page title contains 'Starter-Kit'", "Step 4: Verify header is visible with project name"], "passes": true},
  {"category": "B-Navigation", "description": "Login button in header is clickable when BetterAuth is configured", "steps": ["Step 1: Navigate to landing page", "Step 2: Locate login button in header (top-right)", "Step 3: If BetterAuth is configured, verify button is clickable", "Step 4: Click button and verify OAuth flow initiates or modal appears"], "passes": true},
  {"category": "B-Navigation", "description": "Login button shows disabled state when BetterAuth credentials missing", "steps": ["Step 1: Ensure BetterAuth credentials are NOT configured", "Step 2: Navigate to landing page", "Step 3: Locate login button", "Step 4: Verify button has disabled styling (gray, cursor-not-allowed)", "Step 5: Verify tooltip explains why login is disabled"], "passes": true},
  {"category": "B-Navigation", "description": "Profile page is accessible after successful authentication", "steps": ["Step 1: Complete Google OAuth login flow", "Step 2: Verify automatic redirect to /profile", "Step 3: Verify profile page content loads correctly"], "passes": false},
  {"category": "B-Navigation", "description": "Header appears consistently on all pages", "steps": ["Step 1: Navigate to landing page, verify header present", "Step 2: Navigate to /profile (if authenticated), verify same header structure", "Step 3: Verify header contains project name on left"], "passes": true},
  {"category": "B-Navigation", "description": "Logout button in profile header navigates to landing page", "steps": ["Step 1: Navigate to profile page while authenticated", "Step 2: Locate logout button/user menu", "Step 3: Click logout", "Step 4: Verify navigation to landing page"], "passes": false},
  {"category": "B-Navigation", "description": "Non-existent routes show 404 page", "steps": ["Step 1: Navigate to http://localhost:3000/nonexistent-page", "Step 2: Verify 404 error page is displayed", "Step 3: Verify page does not crash or show blank screen"], "passes": true},
  {"category": "B-Navigation", "description": "Direct URL access to landing page works", "steps": ["Step 1: Open browser directly to http://localhost:3000", "Step 2: Verify landing page loads without redirection loops"], "passes": true},
  {"category": "B-Navigation", "description": "Browser back button works correctly after navigation", "steps": ["Step 1: Navigate to landing page", "Step 2: Navigate to profile page (if authenticated)", "Step 3: Click browser back button", "Step 4: Verify return to landing page"], "passes": true},
  {"category": "B-Navigation", "description": "Page refresh maintains current route", "steps": ["Step 1: Navigate to landing page", "Step 2: Refresh the page", "Step 3: Verify still on landing page with same content"], "passes": true},
  {"category": "B-Navigation", "description": "Header login button changes to user avatar after authentication", "steps": ["Step 1: Navigate to landing page before login", "Step 2: Verify login button visible", "Step 3: Complete authentication", "Step 4: Verify login button replaced with user avatar/menu"], "passes": false},
  {"category": "B-Navigation", "description": "Clicking project name/logo navigates to landing page", "steps": ["Step 1: Navigate to profile page", "Step 2: Click on project name/logo in header", "Step 3: Verify navigation to landing page"], "passes": true},
  {"category": "B-Navigation", "description": "Profile page shows user greeting with name from Google account", "steps": ["Step 1: Complete Google OAuth login", "Step 2: Navigate to profile page", "Step 3: Verify greeting displays user's name from Google"], "passes": false},
  {"category": "B-Navigation", "description": "Status table on landing page has correct 4 service rows", "steps": ["Step 1: Navigate to landing page", "Step 2: Locate status table", "Step 3: Verify 4 rows exist: PostgreSQL, BetterAuth, Polar, OpenRouter"], "passes": true},

  {"category": "C-RealData", "description": "PostgreSQL status reflects actual database connection state", "steps": ["Step 1: Ensure PostgreSQL is running", "Step 2: Navigate to landing page", "Step 3: Verify PostgreSQL row shows green checkmark (connected)", "Step 4: Stop PostgreSQL container", "Step 5: Refresh page", "Step 6: Verify PostgreSQL row shows red X (disconnected)"], "passes": true},
  {"category": "C-RealData", "description": "BetterAuth status reflects actual configuration", "steps": ["Step 1: Ensure GOOGLE_CLIENT_ID and GOOGLE_CLIENT_SECRET are set", "Step 2: Navigate to landing page", "Step 3: Verify BetterAuth row shows green checkmark", "Step 4: Remove Google OAuth credentials from .env", "Step 5: Restart server and refresh", "Step 6: Verify BetterAuth row shows red X"], "passes": true},
  {"category": "C-RealData", "description": "Polar status reflects actual configuration", "steps": ["Step 1: Set POLAR_ACCESS_TOKEN in .env", "Step 2: Navigate to landing page", "Step 3: Verify Polar row shows green checkmark", "Step 4: Remove POLAR_ACCESS_TOKEN", "Step 5: Restart and refresh", "Step 6: Verify Polar row shows red X"], "passes": true},
  {"category": "C-RealData", "description": "OpenRouter status reflects actual configuration", "steps": ["Step 1: Set OPENROUTER_API_KEY in .env", "Step 2: Navigate to landing page", "Step 3: Verify OpenRouter row shows green checkmark", "Step 4: Remove OPENROUTER_API_KEY", "Step 5: Restart and refresh", "Step 6: Verify OpenRouter row shows red X"], "passes": true},
  {"category": "C-RealData", "description": "GET /api/status returns real status for all services", "steps": ["Step 1: Make GET request to /api/status", "Step 2: Verify response contains status for database, auth, polar, openrouter", "Step 3: Verify statuses match actual configuration state"], "passes": true},
  {"category": "C-RealData", "description": "GET /api/status/database returns real PostgreSQL connection status", "steps": ["Step 1: Ensure PostgreSQL is running", "Step 2: Make GET request to /api/status/database", "Step 3: Verify response indicates connected", "Step 4: Verify response is from actual DB check, not mock"], "passes": true},
  {"category": "C-RealData", "description": "GET /api/status/auth returns real BetterAuth configuration status", "steps": ["Step 1: Make GET request to /api/status/auth", "Step 2: Verify response matches actual env variable state"], "passes": true},
  {"category": "C-RealData", "description": "GET /api/status/polar returns real Polar configuration status", "steps": ["Step 1: Make GET request to /api/status/polar", "Step 2: Verify response matches POLAR_ACCESS_TOKEN presence"], "passes": true},
  {"category": "C-RealData", "description": "GET /api/status/openrouter returns real OpenRouter configuration status", "steps": ["Step 1: Make GET request to /api/status/openrouter", "Step 2: Verify response matches OPENROUTER_API_KEY presence"], "passes": true},
  {"category": "C-RealData", "description": "User data persists in database after Google OAuth login", "steps": ["Step 1: Complete Google OAuth login for first time", "Step 2: Note the user ID/email from session", "Step 3: Logout", "Step 4: Log back in with same Google account", "Step 5: Verify same user record is retrieved (not duplicate)"], "passes": false},
  {"category": "C-RealData", "description": "Session data persists after page refresh", "steps": ["Step 1: Complete authentication", "Step 2: Navigate to profile page", "Step 3: Refresh the page", "Step 4: Verify still logged in with same user data displayed"], "passes": false},
  {"category": "C-RealData", "description": "User avatar from Google is displayed correctly", "steps": ["Step 1: Complete Google OAuth login", "Step 2: Navigate to profile page", "Step 3: Verify avatar image loads from Google profile", "Step 4: Verify avatar URL is real Google avatar, not placeholder"], "passes": false},
  {"category": "C-RealData", "description": "User name from Google is displayed correctly", "steps": ["Step 1: Complete Google OAuth login", "Step 2: Navigate to profile page", "Step 3: Verify displayed name matches Google account name"], "passes": false},
  {"category": "C-RealData", "description": "User email from Google is displayed correctly", "steps": ["Step 1: Complete Google OAuth login", "Step 2: Navigate to profile page", "Step 3: Verify displayed email matches Google account email"], "passes": false},
  {"category": "C-RealData", "description": "Status table updates on page load with fresh data", "steps": ["Step 1: Navigate to landing page", "Step 2: Note current status values", "Step 3: Change a configuration (e.g., stop PostgreSQL)", "Step 4: Refresh page", "Step 5: Verify status table reflects new state"], "passes": true},
  {"category": "C-RealData", "description": "Chatbot response comes from real OpenRouter API", "steps": ["Step 1: Ensure OpenRouter is configured", "Step 2: Navigate to profile page", "Step 3: Send a unique prompt like 'What is 2+2?'", "Step 4: Verify response is dynamic and contextual, not hardcoded"], "passes": true},
  {"category": "C-RealData", "description": "Session expiration is enforced (7 days)", "steps": ["Step 1: Complete authentication", "Step 2: Verify session has correct expiration timestamp", "Step 3: Session should be valid for 7 days per spec"], "passes": false},
  {"category": "C-RealData", "description": "Database timestamps are real (created_at, updated_at)", "steps": ["Step 1: Create new user via OAuth", "Step 2: Query database for user record", "Step 3: Verify created_at is current timestamp, not default/mock"], "passes": false},
  {"category": "C-RealData", "description": "Multiple status checks don't return cached stale data", "steps": ["Step 1: Navigate to landing page, note status", "Step 2: Change configuration", "Step 3: Make API call to /api/status", "Step 4: Verify fresh data returned, not cached"], "passes": true},

  {"category": "D-Workflow", "description": "Complete Google OAuth login flow works end-to-end", "steps": ["Step 1: Navigate to landing page", "Step 2: Click login button", "Step 3: Complete Google OAuth consent", "Step 4: Verify callback handled correctly", "Step 5: Verify redirect to profile page", "Step 6: Verify user info displayed correctly"], "passes": false},
  {"category": "D-Workflow", "description": "Complete logout flow works end-to-end", "steps": ["Step 1: Start authenticated on profile page", "Step 2: Click logout button", "Step 3: Verify session cleared", "Step 4: Verify redirect to landing page", "Step 5: Verify cannot access profile without re-login"], "passes": false},
  {"category": "D-Workflow", "description": "Chatbot send message workflow complete", "steps": ["Step 1: Navigate to profile page while authenticated", "Step 2: Locate chatbot input field", "Step 3: Type a message", "Step 4: Click send button", "Step 5: Verify loading indicator appears", "Step 6: Verify response displays below input"], "passes": false},
  {"category": "D-Workflow", "description": "Chatbot clear/reset workflow complete", "steps": ["Step 1: Navigate to profile page", "Step 2: Send a message to chatbot", "Step 3: Verify response appears", "Step 4: Click clear/reset button", "Step 5: Verify response area is cleared"], "passes": false},
  {"category": "D-Workflow", "description": "First-time user registration via OAuth creates account", "steps": ["Step 1: Use a Google account never used before", "Step 2: Complete OAuth flow", "Step 3: Verify user record created in database", "Step 4: Verify account record with Google provider created"], "passes": false},
  {"category": "D-Workflow", "description": "Returning user login retrieves existing account", "steps": ["Step 1: Log in with previously used Google account", "Step 2: Verify no duplicate user created", "Step 3: Verify session linked to existing user record"], "passes": false},
  {"category": "D-Workflow", "description": "Status check workflow on landing page load", "steps": ["Step 1: Navigate to landing page", "Step 2: Verify API calls made to status endpoints", "Step 3: Verify status table populated with results", "Step 4: Verify loading state shown during fetch"], "passes": true},
  {"category": "D-Workflow", "description": "OAuth callback handling creates session correctly", "steps": ["Step 1: Initiate OAuth flow", "Step 2: Complete Google consent", "Step 3: Verify callback URL receives code", "Step 4: Verify session token created and stored", "Step 5: Verify user redirected to profile"], "passes": false},
  {"category": "D-Workflow", "description": "Login disabled state shows tooltip on hover", "steps": ["Step 1: Ensure BetterAuth not configured", "Step 2: Navigate to landing page", "Step 3: Hover over disabled login button", "Step 4: Verify tooltip appears explaining why disabled"], "passes": true},
  {"category": "D-Workflow", "description": "Chatbot disabled state shows overlay when OpenRouter not configured", "steps": ["Step 1: Ensure OpenRouter not configured", "Step 2: Navigate to profile page (authenticated)", "Step 3: Verify chatbot section has disabled overlay", "Step 4: Verify input field is disabled or blocked"], "passes": false},

  {"category": "E-ErrorHandling", "description": "Network failure on status check shows user-friendly error", "steps": ["Step 1: Block network requests to /api/status", "Step 2: Navigate to landing page", "Step 3: Verify error message displayed, not crash", "Step 4: Verify UI remains functional"], "passes": false},
  {"category": "E-ErrorHandling", "description": "Invalid OAuth callback shows error message", "steps": ["Step 1: Navigate to /api/auth/callback/google with invalid code", "Step 2: Verify error is handled gracefully", "Step 3: Verify user redirected to landing with error indication"], "passes": true},
  {"category": "E-ErrorHandling", "description": "Chatbot API failure shows error message", "steps": ["Step 1: Configure invalid OpenRouter API key", "Step 2: Navigate to profile and send chat message", "Step 3: Verify error message displayed in chat area", "Step 4: Verify app doesn't crash"], "passes": false},
  {"category": "E-ErrorHandling", "description": "Database connection failure handled gracefully", "steps": ["Step 1: Stop PostgreSQL container", "Step 2: Navigate to landing page", "Step 3: Verify status shows disconnected, not error crash", "Step 4: Verify page still renders"], "passes": true},
  {"category": "E-ErrorHandling", "description": "Empty chatbot prompt handled correctly", "steps": ["Step 1: Navigate to profile page", "Step 2: Click send button without entering text", "Step 3: Verify appropriate feedback (validation error or no action)"], "passes": true},
  {"category": "E-ErrorHandling", "description": "Loading states shown during async operations", "steps": ["Step 1: Navigate to landing page", "Step 2: Verify loading indicator during status fetch", "Step 3: Send chatbot message", "Step 4: Verify loading indicator during response wait"], "passes": true},
  {"category": "E-ErrorHandling", "description": "Chatbot timeout doesn't hang UI indefinitely", "steps": ["Step 1: Configure slow/timeout OpenRouter response", "Step 2: Send chatbot message", "Step 3: Verify timeout is handled", "Step 4: Verify UI remains responsive"], "passes": false},
  {"category": "E-ErrorHandling", "description": "Server 500 errors don't expose stack traces", "steps": ["Step 1: Trigger a server error condition", "Step 2: Verify response doesn't contain code stack traces", "Step 3: Verify user-friendly error shown"], "passes": true},
  {"category": "E-ErrorHandling", "description": "Form validation shows field-level errors", "steps": ["Step 1: If any form exists, submit with invalid data", "Step 2: Verify field-level error messages appear", "Step 3: Verify errors are specific and helpful"], "passes": true},
  {"category": "E-ErrorHandling", "description": "404 for non-existent API endpoints returns proper JSON error", "steps": ["Step 1: Make request to /api/nonexistent", "Step 2: Verify 404 status returned", "Step 3: Verify JSON error format, not HTML"], "passes": true},

  {"category": "F-UIBackend", "description": "Status table displays data from /api/status endpoint", "steps": ["Step 1: Monitor network requests on landing page load", "Step 2: Verify GET /api/status is called", "Step 3: Verify response data matches what's displayed in table"], "passes": true},
  {"category": "F-UIBackend", "description": "Chatbot sends POST request to /api/chat with correct format", "steps": ["Step 1: Navigate to profile page", "Step 2: Enter message and send", "Step 3: Verify POST /api/chat request made", "Step 4: Verify request body contains prompt field"], "passes": false},
  {"category": "F-UIBackend", "description": "Chatbot displays response from /api/chat correctly", "steps": ["Step 1: Send chatbot message", "Step 2: Intercept API response", "Step 3: Verify displayed response matches API response content"], "passes": false},
  {"category": "F-UIBackend", "description": "Session endpoint returns user data in correct format", "steps": ["Step 1: Authenticate user", "Step 2: Call GET /api/auth/session", "Step 3: Verify response contains user object with name, email, avatar"], "passes": false},
  {"category": "F-UIBackend", "description": "Profile page displays data from session endpoint", "steps": ["Step 1: Authenticate and navigate to profile", "Step 2: Verify displayed user info matches session API response"], "passes": false},
  {"category": "F-UIBackend", "description": "API errors propagate to UI correctly", "steps": ["Step 1: Trigger API error condition", "Step 2: Verify error response parsed correctly", "Step 3: Verify user-facing error message displayed"], "passes": true},
  {"category": "F-UIBackend", "description": "Loading spinner appears during API calls", "steps": ["Step 1: Navigate to landing page", "Step 2: Verify spinner shown while /api/status loading", "Step 3: Verify spinner disappears after response"], "passes": true},
  {"category": "F-UIBackend", "description": "Status badge icons match API response status", "steps": ["Step 1: Get /api/status response", "Step 2: For each service, verify icon (checkmark/X) matches status boolean"], "passes": true},
  {"category": "F-UIBackend", "description": "Login button state matches auth configuration status", "steps": ["Step 1: Get /api/status/auth response", "Step 2: If configured=true, verify button enabled", "Step 3: If configured=false, verify button disabled"], "passes": true},
  {"category": "F-UIBackend", "description": "Chatbot disabled state matches OpenRouter status", "steps": ["Step 1: Get /api/status/openrouter response", "Step 2: If configured=false, verify chatbot is disabled", "Step 3: If configured=true, verify chatbot is enabled"], "passes": true},

  {"category": "G-StatePersistence", "description": "Session persists after page refresh", "steps": ["Step 1: Complete authentication", "Step 2: Refresh the page", "Step 3: Verify still authenticated", "Step 4: Verify user data still displayed"], "passes": false},
  {"category": "G-StatePersistence", "description": "Session persists after closing and reopening browser tab", "steps": ["Step 1: Complete authentication", "Step 2: Close browser tab", "Step 3: Open new tab to same URL", "Step 4: Verify still authenticated"], "passes": false},
  {"category": "G-StatePersistence", "description": "Logout clears session permanently", "steps": ["Step 1: Authenticate user", "Step 2: Click logout", "Step 3: Refresh page", "Step 4: Verify not authenticated"], "passes": false},
  {"category": "G-StatePersistence", "description": "Chatbot input clears after sending message", "steps": ["Step 1: Type message in chatbot", "Step 2: Send message", "Step 3: Verify input field is cleared"], "passes": true},
  {"category": "G-StatePersistence", "description": "Chatbot response persists until clear button clicked", "steps": ["Step 1: Send chatbot message", "Step 2: Verify response displayed", "Step 3: Navigate away and back (within session)", "Step 4: Verify response still visible or cleared appropriately"], "passes": true},
  {"category": "G-StatePersistence", "description": "Status check results update on each page load", "steps": ["Step 1: Load landing page", "Step 2: Note status values", "Step 3: Refresh page", "Step 4: Verify new API call made for fresh data"], "passes": true},
  {"category": "G-StatePersistence", "description": "Dark mode preference persists if implemented", "steps": ["Step 1: Toggle dark mode (if available)", "Step 2: Refresh page", "Step 3: Verify dark mode state persists"], "passes": true},
  {"category": "G-StatePersistence", "description": "Unsaved chatbot message lost on navigation", "steps": ["Step 1: Type message but don't send", "Step 2: Navigate to landing page", "Step 3: Navigate back to profile", "Step 4: Verify input is empty"], "passes": true},

  {"category": "H-URLAccess", "description": "Direct access to /profile without auth redirects appropriately", "steps": ["Step 1: Clear all cookies/session", "Step 2: Navigate directly to http://localhost:3000/profile", "Step 3: Verify redirect to landing or login"], "passes": true},
  {"category": "H-URLAccess", "description": "Direct access to landing page always works", "steps": ["Step 1: Navigate to http://localhost:3000", "Step 2: Verify page loads regardless of auth state"], "passes": true},
  {"category": "H-URLAccess", "description": "Malformed URL parameters don't crash the app", "steps": ["Step 1: Navigate to http://localhost:3000?foo=<script>alert(1)</script>", "Step 2: Verify page loads without crash", "Step 3: Verify no XSS execution"], "passes": true},
  {"category": "H-URLAccess", "description": "Very long URL handled correctly", "steps": ["Step 1: Navigate to landing page with very long query string (1000+ chars)", "Step 2: Verify page handles it gracefully"], "passes": true},
  {"category": "H-URLAccess", "description": "API endpoints require proper HTTP methods", "steps": ["Step 1: Send GET request to POST /api/chat", "Step 2: Verify 405 Method Not Allowed or appropriate error"], "passes": true},

  {"category": "I-Idempotency", "description": "Double-click on login button doesn't cause issues", "steps": ["Step 1: Navigate to landing page", "Step 2: Rapidly double-click login button", "Step 3: Verify only one OAuth flow initiated"], "passes": true},
  {"category": "I-Idempotency", "description": "Double-click on logout doesn't cause errors", "steps": ["Step 1: Navigate to profile while authenticated", "Step 2: Rapidly double-click logout", "Step 3: Verify clean logout without errors"], "passes": false},
  {"category": "I-Idempotency", "description": "Multiple rapid chatbot sends handled correctly", "steps": ["Step 1: Type message in chatbot", "Step 2: Rapidly click send multiple times", "Step 3: Verify only one message sent or appropriate handling"], "passes": true},
  {"category": "I-Idempotency", "description": "Rapid page refreshes don't corrupt state", "steps": ["Step 1: Navigate to landing page", "Step 2: Rapidly refresh 5 times", "Step 3: Verify page loads correctly after"], "passes": true},
  {"category": "I-Idempotency", "description": "Send button disabled during chatbot API call", "steps": ["Step 1: Send a chatbot message", "Step 2: Verify send button becomes disabled during loading", "Step 3: Verify re-enabled after response"], "passes": true},

  {"category": "J-Cleanup", "description": "Logout removes session from database", "steps": ["Step 1: Login and note session token", "Step 2: Logout", "Step 3: Verify session record removed or invalidated in database"], "passes": false},
  {"category": "J-Cleanup", "description": "Expired sessions are cleaned up", "steps": ["Step 1: Create a session", "Step 2: Manually expire the session in database", "Step 3: Verify session no longer valid for authentication"], "passes": false},
  {"category": "J-Cleanup", "description": "OAuth tokens stored securely", "steps": ["Step 1: Complete OAuth login", "Step 2: Verify access_token stored in accounts table", "Step 3: Verify token is not exposed in client-side code"], "passes": false},
  {"category": "J-Cleanup", "description": "Multiple logins from same user don't create duplicate accounts", "steps": ["Step 1: Login with Google account", "Step 2: Logout", "Step 3: Login again with same Google account", "Step 4: Verify only one user record exists"], "passes": false},
  {"category": "J-Cleanup", "description": "Session created on login with correct expiration", "steps": ["Step 1: Login", "Step 2: Check session in database", "Step 3: Verify expires_at is 7 days from now"], "passes": false},

  {"category": "K-Defaults", "description": "Landing page shows correct default state on first load", "steps": ["Step 1: Clear all browser data", "Step 2: Navigate to landing page", "Step 3: Verify login button shown (not user avatar)", "Step 4: Verify status table loads with current status"], "passes": true},
  {"category": "K-Defaults", "description": "Chatbot input starts empty", "steps": ["Step 1: Navigate to profile page", "Step 2: Verify chatbot input field is empty", "Step 3: Verify no response displayed initially"], "passes": true},
  {"category": "K-Defaults", "description": "Status table shows loading state initially", "steps": ["Step 1: Navigate to landing page", "Step 2: Verify loading indicator or skeleton shown", "Step 3: Verify status appears after load completes"], "passes": true},
  {"category": "K-Defaults", "description": "Clear button resets chatbot to default state", "steps": ["Step 1: Send chatbot message", "Step 2: Verify response displayed", "Step 3: Click clear button", "Step 4: Verify input empty and response cleared"], "passes": true},
  {"category": "K-Defaults", "description": "Header shows correct default for anonymous users", "steps": ["Step 1: Navigate to landing page without session", "Step 2: Verify login button visible", "Step 3: Verify no user avatar or menu"], "passes": true},

  {"category": "L-SearchFilter", "description": "Status table correctly filters/shows all 4 services", "steps": ["Step 1: Navigate to landing page", "Step 2: Verify all 4 service rows visible", "Step 3: Verify no duplicate rows", "Step 4: Verify no missing rows"], "passes": true},
  {"category": "L-SearchFilter", "description": "Status API returns all expected fields", "steps": ["Step 1: Call GET /api/status", "Step 2: Verify response contains database, auth, polar, openrouter keys", "Step 3: Verify each has status boolean"], "passes": true},
  {"category": "L-SearchFilter", "description": "Individual status endpoints work correctly", "steps": ["Step 1: Call GET /api/status/database", "Step 2: Call GET /api/status/auth", "Step 3: Call GET /api/status/polar", "Step 4: Call GET /api/status/openrouter", "Step 5: Verify each returns correct status"], "passes": true},
  {"category": "L-SearchFilter", "description": "Status table order matches spec order", "steps": ["Step 1: Navigate to landing page", "Step 2: Verify order: PostgreSQL, BetterAuth, Polar, OpenRouter", "Step 3: Verify consistent ordering on refresh"], "passes": true},
  {"category": "L-SearchFilter", "description": "Chatbot handles special characters in input", "steps": ["Step 1: Enter message with special chars (!@#$%^&*)", "Step 2: Send message", "Step 3: Verify no errors", "Step 4: Verify response received"], "passes": true},
  {"category": "L-SearchFilter", "description": "Chatbot handles unicode/emoji in input", "steps": ["Step 1: Enter message with emoji ðŸŽ‰", "Step 2: Send message", "Step 3: Verify no errors"], "passes": true},
  {"category": "L-SearchFilter", "description": "Chatbot handles very long input", "steps": ["Step 1: Enter very long message (500+ chars)", "Step 2: Send message", "Step 3: Verify handled correctly (sent or truncated with feedback)"], "passes": true},
  {"category": "L-SearchFilter", "description": "Chatbot handles empty spaces only", "steps": ["Step 1: Enter only spaces in input", "Step 2: Try to send", "Step 3: Verify validation prevents or appropriate handling"], "passes": true},

  {"category": "M-FormValidation", "description": "Chatbot empty input prevents send", "steps": ["Step 1: Navigate to profile page", "Step 2: Leave input empty", "Step 3: Click send button", "Step 4: Verify no API call made or validation shown"], "passes": true},
  {"category": "M-FormValidation", "description": "Chatbot whitespace-only input handled", "steps": ["Step 1: Enter only whitespace", "Step 2: Click send", "Step 3: Verify treated as empty or sent appropriately"], "passes": true},
  {"category": "M-FormValidation", "description": "OAuth flow validates callback parameters", "steps": ["Step 1: Navigate to callback URL without required params", "Step 2: Verify error handling, not crash"], "passes": true},
  {"category": "M-FormValidation", "description": "API chat endpoint validates request body", "steps": ["Step 1: POST to /api/chat with empty body", "Step 2: Verify 400 Bad Request response", "Step 3: Verify helpful error message"], "passes": true},
  {"category": "M-FormValidation", "description": "API chat endpoint validates prompt is string", "steps": ["Step 1: POST to /api/chat with prompt as number", "Step 2: Verify validation error returned"], "passes": true},
  {"category": "M-FormValidation", "description": "Status endpoints validate no body required", "steps": ["Step 1: Send GET requests to status endpoints", "Step 2: Verify they work without request body"], "passes": true},
  {"category": "M-FormValidation", "description": "Invalid JSON in request body returns helpful error", "steps": ["Step 1: POST to /api/chat with malformed JSON", "Step 2: Verify 400 error with clear message"], "passes": true},
  {"category": "M-FormValidation", "description": "Very long chat prompt handled with limit", "steps": ["Step 1: Send extremely long prompt (10000+ chars)", "Step 2: Verify appropriate handling (truncation or rejection)"], "passes": true},
  {"category": "M-FormValidation", "description": "XSS in chatbot input is sanitized", "steps": ["Step 1: Enter <script>alert(1)</script> in chat", "Step 2: Send message", "Step 3: Verify script not executed in response display"], "passes": true},
  {"category": "M-FormValidation", "description": "SQL injection in chatbot input handled safely", "steps": ["Step 1: Enter '; DROP TABLE users; -- in chat", "Step 2: Send message", "Step 3: Verify no SQL injection occurs"], "passes": true},

  {"category": "N-Feedback", "description": "Status check shows loading state during fetch", "steps": ["Step 1: Navigate to landing page", "Step 2: Verify loading indicator during API call", "Step 3: Verify indicator disappears after load"], "passes": true},
  {"category": "N-Feedback", "description": "Chatbot shows loading state during response", "steps": ["Step 1: Send chatbot message", "Step 2: Verify loading indicator appears", "Step 3: Verify loading disappears when response arrives"], "passes": true},
  {"category": "N-Feedback", "description": "Chatbot error displays user-friendly message", "steps": ["Step 1: Trigger chatbot error condition", "Step 2: Verify error message is user-friendly", "Step 3: Verify no technical jargon exposed"], "passes": true},
  {"category": "N-Feedback", "description": "Login button hover shows visual feedback", "steps": ["Step 1: Navigate to landing page", "Step 2: Hover over login button", "Step 3: Verify hover state change (color/shadow)"], "passes": true},
  {"category": "N-Feedback", "description": "Disabled login button shows tooltip on hover", "steps": ["Step 1: Ensure BetterAuth not configured", "Step 2: Hover over disabled login button", "Step 3: Verify tooltip explains why disabled"], "passes": true},
  {"category": "N-Feedback", "description": "Status badges show clear connected/disconnected state", "steps": ["Step 1: Navigate to landing page", "Step 2: Verify green checkmark for connected services", "Step 3: Verify red X for disconnected services"], "passes": true},
  {"category": "N-Feedback", "description": "Chatbot send button shows disabled state appropriately", "steps": ["Step 1: With empty input, verify send button state", "Step 2: During loading, verify button disabled", "Step 3: After response, verify button enabled"], "passes": true},
  {"category": "N-Feedback", "description": "OAuth flow shows progress indication", "steps": ["Step 1: Click login button", "Step 2: Verify user can see authentication is in progress", "Step 3: Verify no blank screen during redirect"], "passes": true},

  {"category": "O-Responsive", "description": "Landing page renders correctly at 1920px desktop width", "steps": ["Step 1: Set viewport to 1920x1080", "Step 2: Navigate to landing page", "Step 3: Take screenshot (type='jpeg', quality=75)", "Step 4: Verify layout is correct, centered, max-w-2xl"], "passes": true},
  {"category": "O-Responsive", "description": "Landing page renders correctly at 768px tablet width", "steps": ["Step 1: Set viewport to 768x1024", "Step 2: Navigate to landing page", "Step 3: Take screenshot (type='jpeg', quality=75)", "Step 4: Verify layout adapts correctly"], "passes": true},
  {"category": "O-Responsive", "description": "Landing page renders correctly at 375px mobile width", "steps": ["Step 1: Set viewport to 375x667", "Step 2: Navigate to landing page", "Step 3: Take screenshot (type='jpeg', quality=75)", "Step 4: Verify mobile layout correct"], "passes": true},
  {"category": "O-Responsive", "description": "No horizontal scroll on any viewport", "steps": ["Step 1: Check landing page at 1920px - no horizontal scroll", "Step 2: Check landing page at 768px - no horizontal scroll", "Step 3: Check landing page at 375px - no horizontal scroll"], "passes": true},
  {"category": "O-Responsive", "description": "Status table readable on mobile", "steps": ["Step 1: Set viewport to 375px width", "Step 2: Navigate to landing page", "Step 3: Verify status table columns visible", "Step 4: Verify text is readable (not truncated badly)"], "passes": true},
  {"category": "O-Responsive", "description": "Header adapts to mobile viewport", "steps": ["Step 1: Set viewport to 375px width", "Step 2: Verify header elements don't overlap", "Step 3: Verify login button still accessible"], "passes": true},
  {"category": "O-Responsive", "description": "Profile page renders correctly on mobile", "steps": ["Step 1: Set viewport to 375px width", "Step 2: Navigate to profile page (authenticated)", "Step 3: Verify user info card and chatbot visible", "Step 4: Verify layout doesn't break"], "passes": true},
  {"category": "O-Responsive", "description": "Chatbot section usable on mobile", "steps": ["Step 1: Set viewport to 375px width", "Step 2: Navigate to profile page", "Step 3: Verify chatbot input field accessible", "Step 4: Verify send button tap target size adequate (44px+)"], "passes": true},

  {"category": "P-Accessibility", "description": "Tab navigation works through all interactive elements on landing page", "steps": ["Step 1: Navigate to landing page", "Step 2: Press Tab key repeatedly", "Step 3: Verify focus moves through header, login button, status table", "Step 4: Verify focus order is logical"], "passes": true},
  {"category": "P-Accessibility", "description": "Focus ring visible on all focused elements", "steps": ["Step 1: Navigate to landing page", "Step 2: Tab to login button", "Step 3: Verify visible focus ring/outline", "Step 4: Tab to other elements, verify focus visible"], "passes": true},
  {"category": "P-Accessibility", "description": "Login button has accessible name", "steps": ["Step 1: Navigate to landing page", "Step 2: Inspect login button", "Step 3: Verify aria-label or visible text 'Login' or 'Sign in'"], "passes": true},
  {"category": "P-Accessibility", "description": "Status table has proper semantic structure", "steps": ["Step 1: Navigate to landing page", "Step 2: Inspect table element", "Step 3: Verify uses <table>, <th>, <td> tags or ARIA table role"], "passes": true},
  {"category": "P-Accessibility", "description": "Status icons have text alternatives", "steps": ["Step 1: Navigate to landing page", "Step 2: Inspect status checkmark/X icons", "Step 3: Verify aria-label or sr-only text describes status"], "passes": true},
  {"category": "P-Accessibility", "description": "Color contrast meets WCAG AA standards", "steps": ["Step 1: Navigate to landing page", "Step 2: Check text contrast against background", "Step 3: Verify 4.5:1 ratio for normal text", "Step 4: Verify 3:1 ratio for large text"], "passes": true},
  {"category": "P-Accessibility", "description": "Chatbot input has associated label", "steps": ["Step 1: Navigate to profile page", "Step 2: Inspect chatbot input field", "Step 3: Verify has label element or aria-label"], "passes": true},
  {"category": "P-Accessibility", "description": "Error messages accessible to screen readers", "steps": ["Step 1: Trigger an error condition", "Step 2: Verify error has role='alert' or aria-live"], "passes": true},

  {"category": "Q-Temporal", "description": "Session expiration time is 7 days from creation", "steps": ["Step 1: Create new session via login", "Step 2: Check session expires_at in database", "Step 3: Verify timestamp is ~7 days from now"], "passes": false},
  {"category": "Q-Temporal", "description": "Timestamps use consistent timezone handling", "steps": ["Step 1: Create user via OAuth", "Step 2: Check created_at timestamp", "Step 3: Verify timezone is UTC or consistent"], "passes": false},
  {"category": "Q-Temporal", "description": "Chatbot responses include reasonable response time", "steps": ["Step 1: Send chatbot message", "Step 2: Measure time until response", "Step 3: Verify response within 30 seconds (reasonable)"], "passes": true},
  {"category": "Q-Temporal", "description": "Status check happens on each page load (not stale)", "steps": ["Step 1: Navigate to landing page", "Step 2: Note timestamp of network request", "Step 3: Refresh page", "Step 4: Verify new network request made"], "passes": true},
  {"category": "Q-Temporal", "description": "Session cookie has correct expiration", "steps": ["Step 1: Login and check session cookie", "Step 2: Verify cookie expiration aligns with session timeout"], "passes": false},

  {"category": "R-Concurrency", "description": "Multiple rapid status checks don't cause race conditions", "steps": ["Step 1: Make 5 rapid calls to /api/status", "Step 2: Verify all responses valid", "Step 3: Verify no error responses due to race conditions"], "passes": true},
  {"category": "R-Concurrency", "description": "Rapid page navigations don't cause stale data display", "steps": ["Step 1: Rapidly navigate between landing and profile", "Step 2: Verify correct data displayed on each page", "Step 3: Verify no mixed state"], "passes": false},
  {"category": "R-Concurrency", "description": "Multiple chatbot messages queue correctly", "steps": ["Step 1: Send message before previous response arrives", "Step 2: Verify handled gracefully", "Step 3: Verify UI doesn't break"], "passes": false},
  {"category": "R-Concurrency", "description": "Simultaneous login attempts handled", "steps": ["Step 1: Open two tabs", "Step 2: Click login in both rapidly", "Step 3: Verify only one session created or handled gracefully"], "passes": false},
  {"category": "R-Concurrency", "description": "Browser back during OAuth doesn't corrupt state", "steps": ["Step 1: Click login button", "Step 2: Press browser back during redirect", "Step 3: Verify app state is clean"], "passes": true},

  {"category": "S-Export", "description": "No export feature needed per spec - placeholder test", "steps": ["Step 1: Verify app has no export functionality", "Step 2: This is expected per minimal spec"], "passes": true},

  {"category": "T-Performance", "description": "Landing page loads in under 3 seconds", "steps": ["Step 1: Clear browser cache", "Step 2: Navigate to landing page", "Step 3: Measure time to interactive", "Step 4: Verify under 3 seconds"], "passes": true},
  {"category": "T-Performance", "description": "Status API responds in under 1 second", "steps": ["Step 1: Make request to /api/status", "Step 2: Measure response time", "Step 3: Verify under 1 second"], "passes": true},
  {"category": "T-Performance", "description": "Profile page loads in under 3 seconds", "steps": ["Step 1: Navigate to profile page (authenticated)", "Step 2: Measure time to interactive", "Step 3: Verify under 3 seconds"], "passes": true},
  {"category": "T-Performance", "description": "No console errors during normal operation", "steps": ["Step 1: Open browser console", "Step 2: Navigate through landing page and profile", "Step 3: Send chatbot message", "Step 4: Verify no JavaScript errors in console"], "passes": true},
  {"category": "T-Performance", "description": "No memory leaks on repeated navigation", "steps": ["Step 1: Navigate between pages 10 times", "Step 2: Check memory usage", "Step 3: Verify no significant memory growth"], "passes": true},

  {"category": "style", "description": "Landing page visual design matches spec - header styling", "steps": ["Step 1: Navigate to landing page", "Step 2: Take screenshot (type='jpeg', quality=75)", "Step 3: Verify sticky header with subtle shadow", "Step 4: Verify project name on left, login button on right", "Step 5: Verify primary blue color (#3B82F6) for buttons"], "passes": true},
  {"category": "style", "description": "Landing page visual design matches spec - status table styling", "steps": ["Step 1: Navigate to landing page", "Step 2: Take screenshot (type='jpeg', quality=75)", "Step 3: Verify status table has rounded corners", "Step 4: Verify subtle border", "Step 5: Verify 2 columns: Service name | Status", "Step 6: Verify alternating row colors (subtle)"], "passes": true},
  {"category": "style", "description": "Status badge styling matches design system", "steps": ["Step 1: Navigate to landing page", "Step 2: Inspect status badges", "Step 3: Verify rounded pill shape", "Step 4: Verify green background (#22C55E) + checkmark for connected", "Step 5: Verify red background (#EF4444) + X for disconnected"], "passes": true},
  {"category": "style", "description": "Button styling matches design system", "steps": ["Step 1: Navigate to landing page", "Step 2: Inspect login button", "Step 3: Verify blue background (#3B82F6)", "Step 4: Verify white text", "Step 5: Verify rounded-lg corners", "Step 6: Verify hover state slightly darker"], "passes": true},
  {"category": "style", "description": "Disabled button styling is correct", "steps": ["Step 1: Ensure BetterAuth not configured", "Step 2: Navigate to landing page", "Step 3: Inspect disabled login button", "Step 4: Verify gray background", "Step 5: Verify reduced opacity", "Step 6: Verify cursor-not-allowed"], "passes": true},
  {"category": "style", "description": "Profile page card styling matches design system", "steps": ["Step 1: Navigate to profile page (authenticated)", "Step 2: Take screenshot (type='jpeg', quality=75)", "Step 3: Verify card has white background (or dark in dark mode)", "Step 4: Verify subtle border", "Step 5: Verify rounded-xl corners", "Step 6: Verify shadow-sm", "Step 7: Verify padding p-6"], "passes": true},
  {"category": "style", "description": "Chatbot section styling matches design system", "steps": ["Step 1: Navigate to profile page", "Step 2: Locate chatbot section", "Step 3: Verify card container", "Step 4: Verify title 'Assistant IA'", "Step 5: Verify input field has border with focus ring", "Step 6: Verify rounded-lg input", "Step 7: Verify send button styling"], "passes": true},
  {"category": "style", "description": "Typography uses Inter font family", "steps": ["Step 1: Navigate to landing page", "Step 2: Inspect body font-family", "Step 3: Verify Inter or system font fallback"], "passes": true},
  {"category": "style", "description": "Color palette matches spec for light mode", "steps": ["Step 1: Navigate to landing page in light mode", "Step 2: Verify background white (#FFFFFF)", "Step 3: Verify text near black (#171717)", "Step 4: Verify muted text gray (#6B7280)", "Step 5: Verify border light gray (#E5E7EB)"], "passes": true},

  {"category": "functional", "description": "Complete end-to-end user journey: landing to profile to chatbot", "steps": ["Step 1: Clear all browser state", "Step 2: Navigate to http://localhost:3000", "Step 3: Verify landing page loads with status table", "Step 4: Verify all 4 services shown in status table", "Step 5: Click login button (if enabled)", "Step 6: Complete Google OAuth flow", "Step 7: Verify redirect to profile page", "Step 8: Verify user name and email displayed", "Step 9: Verify chatbot section visible", "Step 10: Type message in chatbot", "Step 11: Click send button", "Step 12: Verify loading state appears", "Step 13: Verify response displayed", "Step 14: Click clear button", "Step 15: Verify chatbot reset"], "passes": false},
  {"category": "functional", "description": "Complete authentication and session management flow", "steps": ["Step 1: Navigate to landing page (not logged in)", "Step 2: Verify login button visible", "Step 3: Click login button", "Step 4: Complete OAuth consent", "Step 5: Verify redirect to profile", "Step 6: Verify session cookie set", "Step 7: Refresh page", "Step 8: Verify still logged in", "Step 9: Click logout button", "Step 10: Verify redirect to landing", "Step 11: Verify session cleared", "Step 12: Try accessing /profile directly", "Step 13: Verify redirect to landing"], "passes": false},
  {"category": "functional", "description": "Status check system comprehensive verification", "steps": ["Step 1: Ensure PostgreSQL running", "Step 2: Navigate to landing page", "Step 3: Verify PostgreSQL shows connected", "Step 4: Call GET /api/status/database directly", "Step 5: Verify API matches UI", "Step 6: Check BetterAuth status in UI", "Step 7: Call GET /api/status/auth directly", "Step 8: Verify API matches UI", "Step 9: Check Polar status in UI", "Step 10: Call GET /api/status/polar directly", "Step 11: Verify API matches UI", "Step 12: Check OpenRouter status in UI", "Step 13: Call GET /api/status/openrouter directly", "Step 14: Verify API matches UI"], "passes": true},
  {"category": "functional", "description": "Chatbot disabled state comprehensive check", "steps": ["Step 1: Ensure OpenRouter API key NOT configured", "Step 2: Login and navigate to profile", "Step 3: Locate chatbot section", "Step 4: Verify disabled overlay visible", "Step 5: Verify input field is disabled", "Step 6: Verify send button is disabled", "Step 7: Try typing in input", "Step 8: Verify no input accepted or appropriate feedback", "Step 9: Verify clear message about configuration needed", "Step 10: Take screenshot (type='jpeg', quality=75)"], "passes": false},
  {"category": "functional", "description": "Login disabled state comprehensive check", "steps": ["Step 1: Ensure Google OAuth NOT configured", "Step 2: Navigate to landing page", "Step 3: Locate login button", "Step 4: Verify button has disabled styling", "Step 5: Verify cursor is not-allowed", "Step 6: Hover over button", "Step 7: Verify tooltip appears", "Step 8: Verify tooltip explains Google OAuth needed", "Step 9: Try clicking button", "Step 10: Verify no action or OAuth redirect occurs", "Step 11: Take screenshot (type='jpeg', quality=75)"], "passes": true}
]
